name: Build youtube video downloaderi

on:
  schedule:
    #Runs at 9:00 PM EAT (6:00 PM UTC)
    - cron: '0 18 * * *'

  # Runs at 9:05 PM EAT (6:05 PM UTC)
    - cron: '5 18 * * *'

  # Runs at 9:10 PM EAT (6:10 PM UTC)
    - cron: '10 18 * * *'

  # Runs at 9:15 PM EAT (6:15 PM UTC)
    - cron: '15 18 * * *'

  # Runs at 9:20 PM EAT (6:20 PM UTC)
    - cron: '20 18 * * *'

  # Runs at 9:25 PM EAT (6:25 PM UTC)
    - cron: '25 18 * * *'

  # Runs at 9:30 PM EAT (6:30 PM UTC)
    - cron: '30 18 * * *'

  # Runs at 9:35 PM EAT (6:35 PM UTC)
    - cron: '35 18 * * *'

  # Runs at 9:40 PM EAT (6:40 PM UTC)
    - cron: '40 18 * * *'

  # Runs at 9:45 PM EAT (6:45 PM UTC)
    - cron: '45 18 * * *'

  # Runs at 9:50 PM EAT (6:50 PM UTC)
    - cron: '50 18 * * *'

  # Runs at 9:55 PM EAT (6:55 PM UTC)
    - cron: '55 18 * * *'

  # Runs at 10:00 PM EAT (7:00 PM UTC)
    - cron: '0 19 * * *'

  # Runs at 10:05 PM EAT (7:05 PM UTC)
    - cron: '5 19 * * *'

  # Runs at 10:10 PM EAT (7:10 PM UTC)
    - cron: '10 19 * * *'

  # Runs at 10:15 PM EAT (7:15 PM UTC)
    - cron: '15 19 * * *'

  # Runs at 10:20 PM EAT (7:20 PM UTC)
    - cron: '20 19 * * *'

  # Runs at 10:25 PM EAT (7:25 PM UTC)
    - cron: '25 19 * * *'

  # Runs at 10:30 PM EAT (7:30 PM UTC)
    - cron: '30 19 * * *'

  # Runs at 10:35 PM EAT (7:35 PM UTC)
    - cron: '35 19 * * *'

  # Runs at 10:40 PM EAT (7:40 PM UTC)
    - cron: '40 19 * * *'

  # Runs at 10:45 PM EAT (7:45 PM UTC)
    - cron: '45 19 * * *'

  # Runs at 10:50 PM EAT (7:50 PM UTC)
    - cron: '50 19 * * *'

  # Runs at 10:55 PM EAT (7:55 PM UTC)
    - cron: '55 19 * * *'

  # Runs at 11:00 PM EAT (8:00 PM UTC)
    - cron: '0 20 * * *'
  pull_request:
    branches: ['dl']

jobs:
  Download-vid:
    runs-on: ubuntu-latest
    steps:
      # Check out the repository
      - uses: actions/checkout@v3
      
      # Set up Python
      - uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # Install ffmpeg
      - name: Install ffmpeg
        uses: AnimMouse/setup-ffmpeg@v1

      # Uncomment this line if you need to make a script executable
      # - run: chmod +x YoutubeVideoDownloader.sh

      # Sample script execution and GitHub release creation
      - name: videos
        run: |
          cd test
          bash foo.sh  # Make sure foo.sh exists in the 'test' directory and is executable
          gh release create "${{ github.run_number }}.0.0" vid/*.jpg
        env:
          GITHUB_TOKEN: ${{ secrets.TK }}
        shell: bash


